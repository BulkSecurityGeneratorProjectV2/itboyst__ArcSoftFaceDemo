"use strict";(self["webpackChunkarcface_ui"]=self["webpackChunkarcface_ui"]||[]).push([[861],{3861:function(e,a,l){l.r(a),l.d(a,{default:function(){return w}});var t=l(3396);const c=e=>((0,t.dD)("data-v-dc8b1da8"),e=e(),(0,t.Cn)(),e),s={class:"class_face_detect"},n=c((()=>(0,t._)("div",{class:"class_title"},"人脸检测示例",-1))),i={class:"class_image__lazy"},o={class:"image-slot"},u={class:"class_select"},g=c((()=>(0,t._)("span",{style:{"margin-left":"20px","margin-right":"10px"}},"选择下拉照片",-1))),d={class:"class_select",style:{"margin-top":"20px"}},r=(0,t.Uk)("上传本地照片检测");function p(e,a,l,c,p,m){const f=(0,t.up)("el-header"),_=(0,t.up)("icon-picture"),h=(0,t.up)("el-icon"),v=(0,t.up)("el-image"),w=(0,t.up)("el-main"),b=(0,t.up)("el-option"),j=(0,t.up)("el-select"),W=(0,t.up)("el-button"),I=(0,t.up)("el-upload"),y=(0,t.up)("el-footer"),k=(0,t.up)("el-container");return(0,t.wg)(),(0,t.iD)("div",s,[(0,t.Wm)(k,null,{default:(0,t.w5)((()=>[(0,t.Wm)(f,null,{default:(0,t.w5)((()=>[n])),_:1}),(0,t.Wm)(w,null,{default:(0,t.w5)((()=>[(0,t._)("div",i,[(0,t.Wm)(v,{class:"image__lazy",fit:"contain",src:e.imageSrc},{error:(0,t.w5)((()=>[(0,t._)("div",o,[(0,t.Wm)(h,null,{default:(0,t.w5)((()=>[(0,t.Wm)(_)])),_:1})])])),_:1},8,["src"])])])),_:1}),(0,t.Wm)(y,null,{default:(0,t.w5)((()=>[(0,t._)("div",u,[g,(0,t.Wm)(j,{modelValue:e.selectValue,"onUpdate:modelValue":a[0]||(a[0]=a=>e.selectValue=a),onChange:c.selectChange,placeholder:"Select"},{default:(0,t.w5)((()=>[((0,t.wg)(!0),(0,t.iD)(t.HY,null,(0,t.Ko)(e.imageOption,(e=>((0,t.wg)(),(0,t.j4)(b,{key:e.value,label:e.label,value:e.value},null,8,["label","value"])))),128))])),_:1},8,["modelValue","onChange"])]),(0,t._)("div",d,[(0,t.Wm)(I,{class:"upload-demo","before-upload":c.beforeUpload,accept:"image/png, image/jpeg","show-file-list":!1},{default:(0,t.w5)((()=>[(0,t.Wm)(W,{type:"primary"},{default:(0,t.w5)((()=>[r])),_:1})])),_:1},8,["before-upload"])])])),_:1})])),_:1})])}var m=l(4870),f=l(8042),_={name:"FaceDetect",setup(){const e=(0,m.qj)({selectValue:"images/Image1-1.jpg",imageSrc:"",imageOption:[{value:"images/Image1-1.jpg",label:"Image1-1.jpg"},{value:"images/Image2-1.jpg",label:"Image2-1.jpg"},{value:"images/Image3-1.jpg",label:"Image3-1.jpg"}]});(0,t.bv)((()=>{c(e.selectValue)}));const a=e=>{c(e)},l=e=>{let a=new FileReader;a.readAsDataURL(e),a.onload=function(e){c(e.target.result)}},c=a=>{let l=new Image;l.src=a,l.onload=function(){let a=document.createElement("canvas");a.width=l.width,a.height=l.height;let t=a.getContext("2d");t.drawImage(l,0,0,l.width,l.height),f.Z.post("/detectFaces",{image:a.toDataURL("image/jpeg")}).then((l=>{0===l.code&&l.data.length>0&&l.data.forEach((e=>{let a=e.rect,l=a.left,c=a.top,s=a.right-a.left,n=a.bottom-a.top;t.strokeStyle="#FF0000",t.lineWidth=5,t.strokeRect(l,c,s,n);let i="未知";0===e.gender?i="男":1===e.gender&&(i="女");let o="-";1==e.liveness?o="活体":0==e.liveness&&(o="非活体");let u="性别:"+i+"，年龄:"+e.age+"，"+o;t.fillStyle="#FF0000",t.font="20px Georgia",t.fillText(u,l,c-10),console.info("detectSuccess")})),e.imageSrc=a.toDataURL("image/jpeg")}))}};return{...(0,m.BK)(e),beforeUpload:l,selectChange:a}}},h=l(89);const v=(0,h.Z)(_,[["render",p],["__scopeId","data-v-dc8b1da8"]]);var w=v}}]);
//# sourceMappingURL=861.2465f039.js.map