"use strict";(self["webpackChunkarcface_ui"]=self["webpackChunkarcface_ui"]||[]).push([[887],{7887:function(e,a,l){l.r(a),l.d(a,{default:function(){return C}});var t=l(3396),s=l(7139);const g=e=>((0,t.dD)("data-v-38902240"),e=e(),(0,t.Cn)(),e),c={class:"demo-image__placeholder"},i={class:"block"},o=g((()=>(0,t._)("span",{class:"demonstration"},"照片1",-1))),m=g((()=>(0,t._)("div",{class:"image-slot"},[(0,t.Uk)("Loading"),(0,t._)("span",{class:"dot"},"...")],-1))),n={class:"compare_class_select"},p=g((()=>(0,t._)("span",{style:{"margin-right":"10px"}},"选择下拉照片",-1))),r={class:"compare_class_select",style:{"margin-top":"20px"}},d=(0,t.Uk)("上传本地照片检测"),u={class:"block"},_=g((()=>(0,t._)("span",{class:"demonstration"},"照片2",-1))),h=g((()=>(0,t._)("div",{class:"image-slot"},[(0,t.Uk)("Loading"),(0,t._)("span",{class:"dot"},"...")],-1))),v={class:"compare_class_select"},f=g((()=>(0,t._)("span",{style:{"margin-right":"10px"}},"选择下拉照片",-1))),w={class:"compare_class_select",style:{"margin-top":"20px"}},b=(0,t.Uk)("上传本地照片检测"),j={style:{width:"100%","text-align":"center","margin-top":"20px","margin-bottom":"20px","font-size":"20px"}};function I(e,a,l,g,I,U){const V=(0,t.up)("el-image"),y=(0,t.up)("el-option"),k=(0,t.up)("el-select"),S=(0,t.up)("el-button"),C=(0,t.up)("el-upload");return(0,t.wg)(),(0,t.iD)(t.HY,null,[(0,t._)("div",c,[(0,t._)("div",i,[o,(0,t.Wm)(V,{src:e.imageSrc1,fit:"contain",class:"compare_class_image__lazy"},{placeholder:(0,t.w5)((()=>[m])),_:1},8,["src"]),(0,t._)("div",n,[p,(0,t.Wm)(k,{modelValue:e.selectValue1,"onUpdate:modelValue":a[0]||(a[0]=a=>e.selectValue1=a),onChange:a[1]||(a[1]=e=>g.selectChange(1)),placeholder:"Select"},{default:(0,t.w5)((()=>[((0,t.wg)(!0),(0,t.iD)(t.HY,null,(0,t.Ko)(e.imageOption1,(e=>((0,t.wg)(),(0,t.j4)(y,{key:e.value,label:e.label,value:e.value},null,8,["label","value"])))),128))])),_:1},8,["modelValue"])]),(0,t._)("div",r,[(0,t.Wm)(C,{class:"upload-demo","before-upload":g.beforeUpload1,accept:"image/png, image/jpeg"},{default:(0,t.w5)((()=>[(0,t.Wm)(S,{type:"primary"},{default:(0,t.w5)((()=>[d])),_:1})])),_:1},8,["before-upload"])])]),(0,t._)("div",u,[_,(0,t.Wm)(V,{src:e.imageSrc2,fit:"contain",class:"compare_class_image__lazy"},{placeholder:(0,t.w5)((()=>[h])),_:1},8,["src"]),(0,t._)("div",v,[f,(0,t.Wm)(k,{modelValue:e.selectValue2,"onUpdate:modelValue":a[2]||(a[2]=a=>e.selectValue2=a),onChange:a[3]||(a[3]=e=>g.selectChange(2)),placeholder:"Select"},{default:(0,t.w5)((()=>[((0,t.wg)(!0),(0,t.iD)(t.HY,null,(0,t.Ko)(e.imageOption2,(e=>((0,t.wg)(),(0,t.j4)(y,{key:e.value,label:e.label,value:e.value},null,8,["label","value"])))),128))])),_:1},8,["modelValue"])]),(0,t._)("div",w,[(0,t.Wm)(C,{class:"upload-demo","before-upload":g.beforeUpload2,accept:"image/png, image/jpeg"},{default:(0,t.w5)((()=>[(0,t.Wm)(S,{type:"primary"},{default:(0,t.w5)((()=>[b])),_:1})])),_:1},8,["before-upload"])])])]),(0,t._)("div",j,[(0,t._)("span",null,"人脸相似度为: "+(0,s.zw)(e.similar),1)])],64)}var U=l(4870),V=l(8042),y={name:"FaceCompare",setup(){const e=(0,U.qj)({similar:"0",imageSrc1:"images/Image1-1.jpg",imageSrc2:"images/Image1-2.jpg",selectValue1:"Image1-1.jpg",selectValue2:"Image1-2.jpg",imageOption1:[{value:"images/Image1-1.jpg",label:"Image1-1.jpg"},{value:"images/Image2-1.jpg",label:"Image2-1.jpg"},{value:"images/Image3-1.jpg",label:"Image3-1.jpg"}],imageOption2:[{value:"images/Image1-2.jpg",label:"Image1-2.jpg"},{value:"images/Image2-2.jpg",label:"Image2-2.jpg"},{value:"images/Image3-2.jpg",label:"Image3-2.jpg"}]});(0,t.bv)((()=>{g()}));const a=a=>{1===a?e.imageSrc1=e.selectValue1:2===a&&(e.imageSrc2=e.selectValue2),g()},l=a=>{let l=new FileReader;l.readAsDataURL(a),l.onload=function(a){e.imageSrc1=a.target.result,g()}},s=a=>{let l=new FileReader;l.readAsDataURL(a),l.onload=function(a){e.imageSrc2=a.target.result,g()}},g=()=>{let a=new Image;a.src=e.imageSrc1,a.onload=function(){let l=document.createElement("canvas");l.width=a.width,l.height=a.height;let t=l.getContext("2d");t.drawImage(a,0,0,a.width,a.height);let s=new Image;s.src=e.imageSrc2,s.onload=function(){let a=document.createElement("canvas");a.width=s.width,a.height=s.height;let t=a.getContext("2d");t.drawImage(s,0,0,s.width,s.height),V.Z.post("/compareFaces",{image1:l.toDataURL("image/jpeg"),image2:a.toDataURL("image/jpeg")}).then((a=>{console.info(a),0===a.code?e.similar=a.data:e.similar=a.msg}))}}};return{...(0,U.BK)(e),beforeUpload1:l,beforeUpload2:s,selectChange:a}}},k=l(89);const S=(0,k.Z)(y,[["render",I],["__scopeId","data-v-38902240"]]);var C=S}}]);
//# sourceMappingURL=887.f5cf6eb0.js.map